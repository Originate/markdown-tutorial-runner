actions:

  ALL:

    - match:
      command: 'bin/spec'

    - match:
        filename: '\.md$'
      command: 'bin/docs {{filename}}'

    - match:
        filename: '\.feature$'
      command: 'bin/cuke-api {{filename}} && bin/cuke-cli {{filename}}'

    - match:
        filename: '\.feature$'
        line: '\d+'
      command: 'bin/cuke-api {{filename}}:{{line}} && bin/cuke-cli {{filename}}:{{line}}'

    - match:
        filename: '-spec\.js'
      command: 'bin/tests {{filename}}'


  API:

    - match:
        filename: '\.md$'
      command: 'bin/docs {{filename}}'

    - match:
      command: 'bin/cuke-api'

    - match:
        filename: '\.feature$'
      command: 'bin/cuke-api {{filename}}'

    - match:
        filename: '\.feature$'
        line: '\d+'
      command: 'bin/cuke-api {{filename}}:{{line}}'

    - match:
        filename: '-spec\.js'
      command: 'bin/tests {{filename}}'



  CLI:

    - match:
        filename: '\.md$'
      command: 'bin/docs {{filename}}'

    - match:
      command: 'bin/cuke-cli'

    - match:
        filename: '\.feature$'
      command: 'bin/cuke-cli {{filename}}'

    - match:
        filename: '\.feature$'
        line: '\d+'
      command: 'bin/cuke-cli {{filename}}:{{line}}'

    - match:
        filename: '-spec\.js'
      command: 'bin/tests {{filename}}'
