actions:

  ALL:

    - match:
      command: 'make spec'

    - match:
        filename: '\.md$'
      command: 'make docs FILE={{filename}}'

    - match:
        filename: '\.feature$'
      command: 'make cuke-api FILE={{filename}} && make cuke-cli FILE={{filename}}'

    - match:
        filename: '\.feature$'
        line: '\d+'
      command: 'make cuke-api FILE={{filename}}:{{line}} && make cuke-cli FILE={{filename}}:{{line}}'

    - match:
        filename: '-spec\.js'
      command: 'make tests {{filename}}'


  API:

    - match:
        filename: '\.md$'
      command: 'make docs FILE={{filename}}'

    - match:
      command: 'make cuke-api'

    - match:
        filename: '\.feature$'
      command: 'make cuke-api FILE={{filename}}'

    - match:
        filename: '\.feature$'
        line: '\d+'
      command: 'make cuke-api FILE={{filename}}:{{line}}'

    - match:
        filename: '-spec\.js'
      command: 'make tests FILE={{filename}}'



  CLI:

    - match:
        filename: '\.md$'
      command: 'make docs FILE={{filename}}'

    - match:
      command: 'make cuke-cli'

    - match:
        filename: '\.feature$'
      command: 'make cuke-cli FILE={{filename}}'

    - match:
        filename: '\.feature$'
        line: '\d+'
      command: 'make cuke-cli FILE={{filename}}:{{line}}'

    - match:
        filename: '-spec\.js'
      command: 'make tests FILE={{filename}}'
